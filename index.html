<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CATalyst Academy - Master Computer Assisted Translation</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Source+Sans+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-blue: #2563eb;
            --primary-indigo: #4f46e5;
            --primary-teal: #0d9488;
            --primary-rose: #e11d48;
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --text-light: #f1f5f9;
            --text-muted: #94a3b8;
        }
        
        * {
            transition: all 0.2s ease-in-out;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
            color: var(--text-light);
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, h5 {
            font-family: 'Source Sans Pro', sans-serif;
            font-weight: 600;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-indigo));
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3);
        }
        
        .btn-primary:active {
            transform: translateY(0);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            font-size: 16px;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            border-color: rgba(37, 99, 235, 0.3);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }
        
        /* Loading Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        
        /* Progress Bars */
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue), var(--primary-teal));
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        /* Flashcard Styles */
        .flashcard {
            perspective: 1000px;
            cursor: pointer;
            min-height: 280px;
        }
        
        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        
        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }
        
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            padding: 32px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .flashcard-front {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(79, 70, 229, 0.1));
            border: 2px solid rgba(37, 99, 235, 0.3);
        }
        
        .flashcard-back {
            background: linear-gradient(135deg, rgba(13, 148, 136, 0.1), rgba(37, 99, 235, 0.1));
            border: 2px solid rgba(13, 148, 136, 0.3);
            transform: rotateY(180deg);
        }
        
        /* Badge Styles */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .badge-primary {
            background: rgba(37, 99, 235, 0.2);
            color: #60a5fa;
            border: 1px solid rgba(37, 99, 235, 0.3);
        }
        
        .badge-success {
            background: rgba(13, 148, 136, 0.2);
            color: #2dd4bf;
            border: 1px solid rgba(13, 148, 136, 0.3);
        }
        
        .badge-warning {
            background: rgba(245, 158, 11, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }
        
        /* Input and Select Styles */
        select, input, textarea {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px 16px;
            color: var(--text-light);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
        }
        
        select:focus, input:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
        }
        
        /* Matecat Simulation */
        .matecat-editor {
            background: #1a202c;
            border: 1px solid #4a5568;
            border-radius: 12px;
            padding: 20px;
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .btn-primary, .btn-secondary {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .glass-card {
                padding: 20px !important;
            }
            
            .flashcard {
                min-height: 240px;
            }
            
            .flashcard-front, .flashcard-back {
                padding: 20px;
            }
        }
        
        /* Active States */
        .nav-active {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.2), rgba(79, 70, 229, 0.2));
            border: 1px solid rgba(37, 99, 235, 0.3);
        }
        
        /* Hover Effects */
        .hover-lift {
            transition: transform 0.2s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-3px);
        }
        
        /* Loading Screen */
        #loading-screen {
            animation: fadeOut 0.5s ease 1.5s forwards;
        }
        
        @keyframes fadeOut {
            to { opacity: 0; visibility: hidden; }
        }
        
        /* Pulse Animation */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* Developer Credit */
        .developer-credit {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(15, 23, 42, 0.95);
            border: 1px solid rgba(37, 99, 235, 0.3);
            border-radius: 10px;
            padding: 12px 20px;
            font-size: 12px;
            backdrop-filter: blur(10px);
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div id="loading-screen" class="fixed inset-0 bg-[#0f172a] z-[9999] flex flex-col items-center justify-center">
        <div class="relative mb-8">
            <div class="w-24 h-24 rounded-2xl bg-gradient-to-br from-[#2563eb] to-[#4f46e5] flex items-center justify-center animate-pulse">
                <div class="text-white font-bold text-2xl">CAT</div>
            </div>
        </div>
        <div class="text-center">
            <h2 class="text-3xl font-bold text-white mb-4">CATalyst Academy</h2>
            <div class="w-64 h-2 bg-gray-800 rounded-full overflow-hidden mt-6">
                <div class="h-full bg-gradient-to-r from-[#2563eb] to-[#0d9488] rounded-full" style="animation: loader 1.5s ease-in-out infinite"></div>
            </div>
        </div>
        <style>
            @keyframes loader {
                0% { transform: translateX(-100%); }
                100% { transform: translateX(100%); }
            }
        </style>
    </div>

    <div id="root"></div>
    
    <div class="developer-credit">
        <p class="text-[#60a5fa] font-semibold text-sm">üíª Developed by</p>
        <p class="text-white font-bold text-base">Halim Faroug A. Elhag</p>
        <p class="text-[#94a3b8] text-xs">Lecturer of English Language, UHB/UofK</p>
    </div>

    <script type="text/babel">
        const { useState, useEffect, useCallback, useRef } = React;

        // Course Data
        const courseData = {
            topics: [
                { id: 1, name: "Introduction to CAT", color: "#2563eb", icon: "üöÄ" },
                { id: 2, name: "Translator's Workstation", color: "#4f46e5", icon: "üíª" },
                { id: 3, name: "Translation Memory Systems", color: "#0d9488", icon: "üíæ" },
                { id: 4, name: "Terminology Tools", color: "#e11d48", icon: "üìö" },
                { id: 5, name: "Localization & Translation", color: "#2563eb", icon: "üåç" },
                { id: 6, name: "Minority Languages", color: "#4f46e5", icon: "üó£Ô∏è" },
                { id: 7, name: "Corpora & Translation", color: "#0d9488", icon: "üìä" },
                { id: 8, name: "MT Challenges", color: "#e11d48", icon: "‚ö°" },
                { id: 9, name: "Linguistics in MT", color: "#2563eb", icon: "üî§" },
                { id: 10, name: "Commercial MT", color: "#4f46e5", icon: "üí∞" },
                { id: 11, name: "MT Evaluation", color: "#0d9488", icon: "üìà" },
                { id: 12, name: "Sublanguage", color: "#e11d48", icon: "üéØ" },
                { id: 13, name: "Post-Editing", color: "#2563eb", icon: "‚úèÔ∏è" },
                { id: 14, name: "MT in Classroom", color: "#4f46e5", icon: "üè´" }
            ],
            
            flashcards: [
                { id: 1, topic: 1, front: "What is Computer-Assisted Translation (CAT)?", back: "The use of computer programs and tools to help human translators create accurate, efficient, and consistent translations.", mastery: "new" },
                { id: 2, topic: 1, front: "What was the ALPAC Report and its impact?", back: "A 1966 report that found MT systems slower and more expensive than human translators, leading to a shift toward CAT tools.", mastery: "new" },
                { id: 3, topic: 1, front: "What is the difference between MT and CAT?", back: "MT tries to automate translation, while CAT supports human translators with tools like TM and terminology databases.", mastery: "new" },
                { id: 4, topic: 1, front: "When did CAT tools like Trados emerge?", back: "By the 1980s, tools like Trados revolutionized the industry with Translation Memory features.", mastery: "new" },
                { id: 5, topic: 2, front: "What is a translator's workstation?", back: "An ecosystem of tools designed to enhance productivity, accuracy, and consistency in translation workflows.", mastery: "new" }
            ],
            
            quizzes: [
                { id: 1, topic: 1, question: "What was the main finding of the 1966 ALPAC Report?", options: ["MT systems were faster and cheaper", "MT systems were slower and more expensive", "MT systems were ready for commercial deployment", "MT should replace all human translators"], correct: 1, explanation: "The ALPAC report found MT systems were slower, less accurate, and twice as expensive as human translators." },
                { id: 2, topic: 1, question: "Which feature is NOT a key component of CAT tools?", options: ["Translation Memory", "Terminology Management", "Complete automation", "Quality Assurance checks"], correct: 2, explanation: "CAT tools assist translators, not completely automate translation." },
                { id: 3, topic: 2, question: "Who proposed the translator's workstation concept in 1980?", options: ["Peter Arthern", "Martin Kay", "Alan Melby", "Warren Weaver"], correct: 1, explanation: "Martin Kay's 1980 memo proposed the translator's workstation concept." }
            ]
        };

        // Main App Component
        function App() {
            const [currentView, setCurrentView] = useState('dashboard');
            const [selectedTopic, setSelectedTopic] = useState(null);
            const [userProgress, setUserProgress] = useState({
                completedTopics: [1, 2],
                totalXP: 250,
                level: 2,
                streak: 5,
                badges: ["First Steps", "Quick Learner"],
                flashcardProgress: {}
            });

            useEffect(() => {
                setTimeout(() => {
                    const loadingScreen = document.getElementById('loading-screen');
                    if (loadingScreen) {
                        loadingScreen.style.display = 'none';
                    }
                }, 1500);

                const initialProgress = {};
                courseData.flashcards.forEach(card => {
                    initialProgress[card.id] = { mastery: 'new', reviewCount: 0 };
                });
                setUserProgress(prev => ({ ...prev, flashcardProgress: initialProgress }));
            }, []);

            const addXP = (amount) => {
                setUserProgress(prev => {
                    const newXP = prev.totalXP + amount;
                    const newLevel = Math.floor(newXP / 250) + 1;
                    return { ...prev, totalXP: newXP, level: newLevel };
                });
            };

            return (
                <div className="min-h-screen">
                    <Navigation 
                        currentView={currentView} 
                        setCurrentView={setCurrentView}
                        userProgress={userProgress}
                    />
                    <main className="container mx-auto px-4 py-8 max-w-7xl mt-4">
                        {currentView === 'dashboard' && (
                            <Dashboard 
                                userProgress={userProgress}
                                courseData={courseData}
                                setCurrentView={setCurrentView}
                                setSelectedTopic={setSelectedTopic}
                            />
                        )}
                        {currentView === 'flashcards' && (
                            <FlashcardView 
                                courseData={courseData}
                                selectedTopic={selectedTopic}
                                userProgress={userProgress}
                                setUserProgress={setUserProgress}
                                addXP={addXP}
                            />
                        )}
                        {currentView === 'quiz' && (
                            <QuizView 
                                courseData={courseData}
                                selectedTopic={selectedTopic}
                                addXP={addXP}
                                userProgress={userProgress}
                            />
                        )}
                        {currentView === 'progress' && (
                            <ProgressView userProgress={userProgress} courseData={courseData} />
                        )}
                    </main>
                </div>
            );
        }

        // Navigation Component
        function Navigation({ currentView, setCurrentView, userProgress }) {
            return (
                <nav className="glass-card sticky top-0 z-50 mx-4 mt-4">
                    <div className="container mx-auto px-6">
                        <div className="flex items-center justify-between h-20">
                            <div className="flex items-center gap-4">
                                <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-[#2563eb] to-[#4f46e5] flex items-center justify-center">
                                    <span className="text-white font-bold">CAT</span>
                                </div>
                                <div>
                                    <h1 className="text-xl font-bold text-white">CATalyst Academy</h1>
                                    <p className="text-sm text-[#94a3b8]">Computer Assisted Translation</p>
                                </div>
                            </div>

                            <div className="hidden md:flex items-center gap-2">
                                {['dashboard', 'flashcards', 'quiz', 'progress'].map(view => (
                                    <button
                                        key={view}
                                        onClick={() => setCurrentView(view)}
                                        className={`px-4 py-3 rounded-lg font-medium capitalize ${currentView === view ? 'nav-active text-white' : 'text-[#94a3b8] hover:text-white hover:bg-white/5'}`}
                                    >
                                        {view === 'dashboard' ? 'üè† Dashboard' : 
                                         view === 'flashcards' ? 'üé¥ Flashcards' : 
                                         view === 'quiz' ? 'üéØ Quiz' : 'üìä Progress'}
                                    </button>
                                ))}
                            </div>

                            <div className="text-right">
                                <p className="text-sm font-semibold text-white">Level {userProgress.level}</p>
                                <p className="text-xs text-[#94a3b8]">{userProgress.totalXP} XP</p>
                            </div>
                        </div>
                    </div>
                </nav>
            );
        }

        // Dashboard Component
        function Dashboard({ userProgress, courseData, setCurrentView, setSelectedTopic }) {
            return (
                <div className="space-y-8 fade-in">
                    <div className="text-center">
                        <h1 className="text-4xl font-bold text-white mb-4">Welcome to CATalyst Academy</h1>
                        <p className="text-lg text-[#94a3b8]">Master Computer Assisted Translation with interactive learning</p>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div className="glass-card p-6 card-hover">
                            <div className="flex items-center gap-4 mb-4">
                                <div className="w-12 h-12 rounded-lg bg-gradient-to-br from-[#2563eb]/20 to-[#4f46e5]/20 flex items-center justify-center">
                                    <span className="text-2xl">üé¥</span>
                                </div>
                                <div>
                                    <h3 className="text-lg font-semibold text-white">Flashcards</h3>
                                    <p className="text-sm text-[#94a3b8]">Master key concepts</p>
                                </div>
                            </div>
                            <button 
                                onClick={() => setCurrentView('flashcards')}
                                className="btn-primary w-full mt-4"
                            >
                                Start Learning
                            </button>
                        </div>

                        <div className="glass-card p-6 card-hover">
                            <div className="flex items-center gap-4 mb-4">
                                <div className="w-12 h-12 rounded-lg bg-gradient-to-br from-[#0d9488]/20 to-[#2563eb]/20 flex items-center justify-center">
                                    <span className="text-2xl">üéØ</span>
                                </div>
                                <div>
                                    <h3 className="text-lg font-semibold text-white">Quizzes</h3>
                                    <p className="text-sm text-[#94a3b8]">Test your knowledge</p>
                                </div>
                            </div>
                            <button 
                                onClick={() => setCurrentView('quiz')}
                                className="btn-primary w-full mt-4"
                            >
                                Take Quiz
                            </button>
                        </div>

                        <div className="glass-card p-6 card-hover">
                            <div className="flex items-center gap-4 mb-4">
                                <div className="w-12 h-12 rounded-lg bg-gradient-to-br from-[#e11d48]/20 to-[#4f46e5]/20 flex items-center justify-center">
                                    <span className="text-2xl">üìä</span>
                                </div>
                                <div>
                                    <h3 className="text-lg font-semibold text-white">Progress</h3>
                                    <p className="text-sm text-[#94a3b8]">Track your learning</p>
                                </div>
                            </div>
                            <button 
                                onClick={() => setCurrentView('progress')}
                                className="btn-primary w-full mt-4"
                            >
                                View Progress
                            </button>
                        </div>
                    </div>

                    <div className="glass-card p-6">
                        <h2 className="text-2xl font-bold text-white mb-6">Course Topics</h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            {courseData.topics.map(topic => (
                                <button
                                    key={topic.id}
                                    onClick={() => {
                                        setSelectedTopic(topic.id);
                                        setCurrentView('flashcards');
                                    }}
                                    className="glass-card p-4 text-left hover:bg-white/5 transition-all duration-200"
                                >
                                    <div className="flex items-center gap-3 mb-3">
                                        <div className="w-10 h-10 rounded-lg flex items-center justify-center" style={{ backgroundColor: topic.color + '20' }}>
                                            <span className="text-lg">{topic.icon}</span>
                                        </div>
                                        <h3 className="font-semibold text-white">{topic.name}</h3>
                                    </div>
                                    <div className="progress-bar">
                                        <div className="progress-fill" style={{ width: '60%' }}></div>
                                    </div>
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        // Flashcard View Component
        function FlashcardView({ courseData, selectedTopic, userProgress, setUserProgress, addXP }) {
            const [currentCardIndex, setCurrentCardIndex] = useState(0);
            const [isFlipped, setIsFlipped] = useState(false);
            const [filterTopic, setFilterTopic] = useState(selectedTopic || 'all');
            
            const filteredCards = filterTopic === 'all' 
                ? courseData.flashcards 
                : courseData.flashcards.filter(card => card.topic === filterTopic);
            
            const currentCard = filteredCards[currentCardIndex];

            const handleFlip = () => {
                setIsFlipped(!isFlipped);
            };

            const handleNext = () => {
                setIsFlipped(false);
                setCurrentCardIndex((prev) => (prev + 1) % filteredCards.length);
            };

            const handlePrevious = () => {
                setIsFlipped(false);
                setCurrentCardIndex((prev) => (prev - 1 + filteredCards.length) % filteredCards.length);
            };

            const handleMastery = (masteryLevel) => {
                if (!currentCard) return;
                
                const xpMap = { again: 5, hard: 10, good: 15, easy: 25 };
                addXP(xpMap[masteryLevel] || 10);
                
                setUserProgress(prev => ({
                    ...prev,
                    flashcardProgress: {
                        ...prev.flashcardProgress,
                        [currentCard.id]: {
                            mastery: masteryLevel === 'easy' ? 'mastered' : masteryLevel === 'again' ? 'new' : 'learning',
                            reviewCount: (prev.flashcardProgress[currentCard.id]?.reviewCount || 0) + 1
                        }
                    }
                }));
                
                handleNext();
            };

            if (!currentCard) {
                return (
                    <div className="text-center py-12">
                        <h2 className="text-2xl font-bold text-white mb-4">No flashcards found</h2>
                        <button 
                            onClick={() => setFilterTopic('all')}
                            className="btn-primary"
                        >
                            View All Flashcards
                        </button>
                    </div>
                );
            }

            return (
                <div className="max-w-4xl mx-auto fade-in">
                    <div className="glass-card p-6 mb-6">
                        <div className="flex flex-col md:flex-row justify-between gap-4 mb-6">
                            <div>
                                <h2 className="text-2xl font-bold text-white mb-2">Flashcard Study</h2>
                                <p className="text-[#94a3b8]">Master CAT concepts through active recall</p>
                            </div>
                            <div className="flex items-center gap-4">
                                <select 
                                    value={filterTopic}
                                    onChange={(e) => {
                                        setFilterTopic(e.target.value === 'all' ? 'all' : parseInt(e.target.value));
                                        setCurrentCardIndex(0);
                                        setIsFlipped(false);
                                    }}
                                    className="bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white"
                                >
                                    <option value="all">All Topics</option>
                                    {courseData.topics.map(topic => (
                                        <option key={topic.id} value={topic.id}>{topic.name}</option>
                                    ))}
                                </select>
                                <div className="text-right">
                                    <p className="text-sm text-white">Card {currentCardIndex + 1} of {filteredCards.length}</p>
                                    <p className="text-xs text-[#94a3b8]">{Math.round((currentCardIndex + 1) / filteredCards.length * 100)}% complete</p>
                                </div>
                            </div>
                        </div>

                        <div className="progress-bar mb-6">
                            <div className="progress-fill" style={{ width: `${((currentCardIndex + 1) / filteredCards.length) * 100}%` }}></div>
                        </div>

                        <div className="mb-8">
                            <div className="flex items-center justify-between mb-4">
                                <div className="flex items-center gap-2">
                                    <span className="badge badge-primary">
                                        Topic {currentCard.topic}
                                    </span>
                                    <span className="text-sm text-[#94a3b8]">
                                        Reviewed: {userProgress.flashcardProgress[currentCard.id]?.reviewCount || 0} times
                                    </span>
                                </div>
                            </div>

                            <div 
                                className={`flashcard mb-8 ${isFlipped ? 'flipped' : ''}`}
                                onClick={handleFlip}
                            >
                                <div className="flashcard-inner">
                                    <div className="flashcard-front">
                                        <div>
                                            <p className="text-sm font-semibold text-[#60a5fa] mb-4">QUESTION</p>
                                            <p className="text-xl font-semibold text-white">{currentCard.front}</p>
                                            <p className="text-sm text-[#94a3b8] mt-8">Click to flip</p>
                                        </div>
                                    </div>
                                    <div className="flashcard-back">
                                        <div>
                                            <p className="text-sm font-semibold text-[#2dd4bf] mb-4">ANSWER</p>
                                            <p className="text-lg text-white leading-relaxed">{currentCard.back}</p>
                                            <p className="text-sm text-[#94a3b8] mt-8">Click to flip back</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div className="flex justify-between items-center">
                                <button onClick={handlePrevious} className="btn-secondary">
                                    ‚Üê Previous
                                </button>
                                <button onClick={handleNext} className="btn-secondary">
                                    Next ‚Üí
                                </button>
                            </div>
                        </div>

                        {isFlipped && (
                            <div className="glass-card p-6 mt-6">
                                <h3 className="text-lg font-semibold text-white mb-4">How well did you know this?</h3>
                                <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                                    <button 
                                        onClick={() => handleMastery('again')}
                                        className="py-3 rounded-lg bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 text-red-400"
                                    >
                                        Again (+5 XP)
                                    </button>
                                    <button 
                                        onClick={() => handleMastery('hard')}
                                        className="py-3 rounded-lg bg-orange-500/10 hover:bg-orange-500/20 border border-orange-500/20 text-orange-400"
                                    >
                                        Hard (+10 XP)
                                    </button>
                                    <button 
                                        onClick={() => handleMastery('good')}
                                        className="py-3 rounded-lg bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/20 text-blue-400"
                                    >
                                        Good (+15 XP)
                                    </button>
                                    <button 
                                        onClick={() => handleMastery('easy')}
                                        className="py-3 rounded-lg bg-green-500/10 hover:bg-green-500/20 border border-green-500/20 text-green-400"
                                    >
                                        Easy (+25 XP)
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Quiz View Component
        function QuizView({ courseData, selectedTopic, addXP, userProgress }) {
            const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showFeedback, setShowFeedback] = useState(false);
            const [score, setScore] = useState(0);
            const [timeLeft, setTimeLeft] = useState(30);
            
            const filteredQuizzes = selectedTopic 
                ? courseData.quizzes.filter(quiz => quiz.topic === selectedTopic)
                : courseData.quizzes;
            
            const currentQuestion = filteredQuizzes[currentQuestionIndex];

            useEffect(() => {
                if (!showFeedback && timeLeft > 0) {
                    const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);
                    return () => clearTimeout(timer);
                }
            }, [timeLeft, showFeedback]);

            const handleAnswer = (answerIndex) => {
                setSelectedAnswer(answerIndex);
                setShowFeedback(true);
                
                if (answerIndex === currentQuestion.correct) {
                    setScore(score + 1);
                    const timeBonus = Math.max(1, Math.floor(timeLeft / 5));
                    addXP(20 + timeBonus);
                } else {
                    addXP(5);
                }
            };

            const handleNext = () => {
                if (currentQuestionIndex < filteredQuizzes.length - 1) {
                    setCurrentQuestionIndex(currentQuestionIndex + 1);
                    setSelectedAnswer(null);
                    setShowFeedback(false);
                    setTimeLeft(30);
                } else {
                    // Quiz complete
                    alert(`Quiz complete! Score: ${score}/${filteredQuizzes.length}`);
                }
            };

            if (!currentQuestion) {
                return (
                    <div className="text-center py-12">
                        <h2 className="text-2xl font-bold text-white mb-4">No questions available</h2>
                        <p className="text-[#94a3b8] mb-6">Select a different topic or try all questions</p>
                    </div>
                );
            }

            return (
                <div className="max-w-4xl mx-auto fade-in">
                    <div className="glass-card p-6">
                        <div className="flex justify-between items-start mb-6">
                            <div>
                                <h2 className="text-2xl font-bold text-white mb-2">Quiz Challenge</h2>
                                <p className="text-[#94a3b8]">Test your CAT knowledge</p>
                            </div>
                            <div className="text-right">
                                <div className="text-2xl font-bold text-white mb-2">‚è±Ô∏è {timeLeft}s</div>
                                <p className="text-sm text-[#94a3b8]">Time remaining</p>
                            </div>
                        </div>

                        <div className="progress-bar mb-6">
                            <div className="progress-fill" style={{ width: `${((currentQuestionIndex + 1) / filteredQuizzes.length) * 100}%` }}></div>
                        </div>

                        <div className="glass-card p-6 mb-6">
                            <div className="flex justify-between items-center mb-6">
                                <div>
                                    <span className="badge badge-primary">Question {currentQuestionIndex + 1}/{filteredQuizzes.length}</span>
                                    <span className="text-sm text-[#94a3b8] ml-4">Topic {currentQuestion.topic}</span>
                                </div>
                                <div className="text-right">
                                    <p className="text-sm text-[#94a3b8]">Current Score</p>
                                    <p className="text-lg font-bold text-white">{score}/{currentQuestionIndex + (showFeedback ? 1 : 0)}</p>
                                </div>
                            </div>

                            <h3 className="text-xl font-semibold text-white mb-6">{currentQuestion.question}</h3>

                            <div className="space-y-3">
                                {currentQuestion.options.map((option, index) => (
                                    <button
                                        key={index}
                                        onClick={() => !showFeedback && handleAnswer(index)}
                                        disabled={showFeedback}
                                        className={`w-full p-4 text-left rounded-lg transition-all ${showFeedback
                                            ? index === currentQuestion.correct
                                                ? 'bg-green-500/10 border border-green-500/20'
                                                : index === selectedAnswer
                                                ? 'bg-red-500/10 border border-red-500/20'
                                                : 'bg-white/5 border border-white/10'
                                            : 'bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20'
                                        }`}
                                    >
                                        <div className="flex items-center justify-between">
                                            <div className="flex items-center gap-4">
                                                <div className={`w-8 h-8 rounded-lg flex items-center justify-center ${showFeedback
                                                    ? index === currentQuestion.correct
                                                        ? 'bg-green-500'
                                                        : index === selectedAnswer
                                                        ? 'bg-red-500'
                                                        : 'bg-white/10'
                                                    : 'bg-white/10'
                                                }`}>
                                                    <span className="font-bold text-white">{String.fromCharCode(65 + index)}</span>
                                                </div>
                                                <span className="text-white">{option}</span>
                                            </div>
                                            {showFeedback && index === currentQuestion.correct && (
                                                <span className="text-green-400">‚úÖ</span>
                                            )}
                                            {showFeedback && index === selectedAnswer && index !== currentQuestion.correct && (
                                                <span className="text-red-400">‚ùå</span>
                                            )}
                                        </div>
                                    </button>
                                ))}
                            </div>
                        </div>

                        {showFeedback && (
                            <div className="glass-card p-6 mb-6">
                                <div className="flex items-start gap-4 mb-4">
                                    <div className={`text-3xl ${selectedAnswer === currentQuestion.correct ? 'text-green-400' : 'text-red-400'}`}>
                                        {selectedAnswer === currentQuestion.correct ? 'üéâ' : 'üìù'}
                                    </div>
                                    <div>
                                        <h3 className={`text-lg font-semibold mb-2 ${selectedAnswer === currentQuestion.correct ? 'text-green-400' : 'text-red-400'}`}>
                                            {selectedAnswer === currentQuestion.correct ? 'Correct!' : 'Not quite'}
                                        </h3>
                                        <p className="text-[#94a3b8]">{currentQuestion.explanation}</p>
                                    </div>
                                </div>
                                <button 
                                    onClick={handleNext}
                                    className="btn-primary w-full"
                                >
                                    {currentQuestionIndex < filteredQuizzes.length - 1 ? 'Next Question ‚Üí' : 'Finish Quiz'}
                                </button>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Progress View Component
        function ProgressView({ userProgress, courseData }) {
            const completionPercentage = (userProgress.completedTopics.length / courseData.topics.length) * 100;
            
            return (
                <div className="max-w-4xl mx-auto fade-in">
                    <div className="glass-card p-6 mb-6">
                        <h2 className="text-2xl font-bold text-white mb-6">Your Progress</h2>
                        
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                            <div className="glass-card p-6 text-center">
                                <div className="text-3xl font-bold text-white mb-2">{userProgress.level}</div>
                                <p className="text-sm text-[#94a3b8]">Current Level</p>
                                <div className="progress-bar mt-4">
                                    <div className="progress-fill" style={{ width: `${(userProgress.totalXP % 250) / 250 * 100}%` }}></div>
                                </div>
                                <p className="text-xs text-[#94a3b8] mt-2">{userProgress.totalXP % 250}/250 XP to next level</p>
                            </div>
                            
                            <div className="glass-card p-6 text-center">
                                <div className="text-3xl font-bold text-white mb-2">{userProgress.streak}</div>
                                <p className="text-sm text-[#94a3b8]">Day Streak</p>
                                <div className="mt-4">
                                    <span className="badge badge-warning">üî• Active</span>
                                </div>
                            </div>
                            
                            <div className="glass-card p-6 text-center">
                                <div className="text-3xl font-bold text-white mb-2">{userProgress.totalXP}</div>
                                <p className="text-sm text-[#94a3b8]">Total XP</p>
                                <div className="mt-4">
                                    <span className="badge badge-success">‚ú® Earning</span>
                                </div>
                            </div>
                        </div>

                        <div className="glass-card p-6 mb-6">
                            <h3 className="text-lg font-semibold text-white mb-4">Course Completion</h3>
                            <div className="progress-bar">
                                <div className="progress-fill" style={{ width: `${completionPercentage}%` }}></div>
                            </div>
                            <div className="flex justify-between mt-2">
                                <span className="text-sm text-[#94a3b8]">{completionPercentage.toFixed(0)}% complete</span>
                                <span className="text-sm text-[#94a3b8]">{userProgress.completedTopics.length}/{courseData.topics.length} topics</span>
                            </div>
                        </div>

                        <div className="glass-card p-6">
                            <h3 className="text-lg font-semibold text-white mb-4">Achievements</h3>
                            <div className="flex flex-wrap gap-3">
                                {userProgress.badges.map((badge, index) => (
                                    <div key={index} className="badge badge-primary">
                                        üèÜ {badge}
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Initialize the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
